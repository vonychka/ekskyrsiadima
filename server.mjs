impr{caeHah} fmimprexpessfom 'xpssdtoy= { dt;
delete coy.TokenoknStingky{..cp
 Psswd: CONFIG.PASSWORD
  }sot.mp(>ifkey=='Pwreturn    rucpy[key];
  })
    .j(''kentrgconst app = express();

Middleware
app.use(express.json());

//app.((q, , next=> hhttps://ekskyrsiadima.ruhhrunstusx}APIni
posff-wkreq, res===ЗАПРОСНАОПЛАТУТИНЬКОФФ=='Bq.boy
, orderId, fullNameq.boyreturnstus).json({ 
       error:Missig required filds: amou, ordrId,descri 
     }

constcleanDescription=Sting(dcription)replac(/tour-\+/g, '').replace/-\d+/g, '')m);   
constreceipt={
EmailemailPhone:phone,
EmailCopany: 'okovdim3@mail.com',
  Taxtin: 's'
     FfV: '1.05,Items:[{
Name:cleanDescription.substring(0,128),
 Pic: Mah.oud(amount*100),
Quantity: 1,Amut:Mh.ond(*100)
       Tx:'n'PaymentMethod:'full_prepayment',
PaymntObjet: 'srvce'}]
};

    String()cleanD CustomerKey:String(orderId),
Rrnt:'N',Email:email,Phone:phone?phrepace(/\D/, ') : undfied,
      SuccessURL: 'htps://ekskyrsiaim.u/icet?success=tru&Id=' + Sring(orderId,FailURL:'https:ekskyrsiadima.ru/payment-error',NotifiatiURL:prcss.ev.RENDER_EXTERNAL_URL+'/pi/-webho',Receipt:receipt};

AddfullNametodesriptiafte tokn gnerionif(fullName){
.Dscripi=`${fullNam}-$payentDat.Descrpton`;}

paymentDataTke=gateTokn(ymntataОтправляемвТинькоффpaymnrpaymnrОтветТинькоффresul.Succtu(200).js(rl}else{stus4).}

Ошибкаstus).//Helchk edpint
appgt/(qr=>{
jo statusok TnkffAPISvuntitmpew Date().tISOStrg()0appServerrug prt${R}`